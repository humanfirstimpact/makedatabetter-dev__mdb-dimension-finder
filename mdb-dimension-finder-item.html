<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../paper-checkbox/paper-checkbox.html">

<dom-module id="mdb-dimension-finder-item">
    <template>
        <style>
             :host{
                 @apply(--layout-horizontal);
                 @apply(--layout-center);
                 padding: 5px 0;
                 cursor: pointer;
             }

             :host[selected]{
                 background: var(--dimension-bg-color,--app-primary-color);
                 color: white;
             }
             :host[checked] paper-button{
                 border: 1px solid var(--dimension-bg-color,--app-primary-color);
                 color: var(--dimension-bg-color,--app-primary-color);
                 background: white;
             }
             :host {
                --paper-button:{
                    min-width: 38px;
                    min-height:20px;
                    background: var(--dimension-bg-color,--app-primary-color);
                    color: white;
                    border-radius: 12px;
                    padding: 2px 13px;
                    box-sizing: border-box;
                }
             }
             .item-name{
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                flex:1 1 0%;
                -ms-flex:1 1 0%;
             }
             .icon,iron-icon{
                 width:20px;
                 height:20px;
             }
        </style>
        <span class="icon">
            <template is="dom-if" if="[[showHumanVerification]]">
            <template is="dom-if" if="[[humanVerified]]">
                <iron-icon icon="icons:face"></iron-icon>
            </template>
            <template is="dom-if" if="[[!humanVerified]]">
                <iron-icon icon="icon"></iron-icon>
            </template>
        </template>

        </span>     

        <template is="dom-if" if="[[!showHumanVerification]]">
            <iron-icon icon="icon"></iron-icon>
        </template>
        
        <span class="item-name" title="[[name]]">[[name]]</span>
        <template is="dom-if" if="[[showItemCheckbox]]">
            <paper-button toggles active={{checked}} on-change="_checkedChanged">[[recommendation]]</paper-button>
        </template>
         <iron-icon class="arrow" icon="icons:chevron-right"></iron-icon> 
    </template>
    <script>
        Polymer({
            is: 'mdb-dimension-finder-item',

            properties: {
                id: {
                    type: String
                },
                
                name: {
                    type: String
                },

                systemRecommended: {
                    type: Boolean,
                    value: false
                },

                humanVerified: {
                    type: Boolean,
                    value: false
                },

                recommendation: {
                    type: Number,
                    value: 0
                },

                showItemCheckbox: {
                    type: Boolean,
                    value: false
                },

                showSystemRecommendation: {
                    type: Boolean,
                    value: false
                },

                showHumanVerification: {
                    type: Boolean,
                    value: false
                },

                checked: {
                    type: Boolean,
                    value: false,
                    reflectToAttribute:true
                }
            },

            _checkedChanged: function (e) {
                this.checked = e.currentTarget.active;
                this.fire('dimension-checked', {
                    id : this.id,
                    checked: this.checked,
                    name: this.name,
                    humanVerified: this.humanVerified,
                    showHumanVerification: this.showHumanVerification,
                    systemRecommended: this.systemRecommended,
                    showSystemRecommendation: this.showSystemRecommendation,
                    showItemCheckbox: this.showItemCheckbox,
                    recommendation: this.recommendation
                });
            }
        });
    </script>
</dom-module>